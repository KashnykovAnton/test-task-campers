"use strict";(self.webpackChunktest_task_campers=self.webpackChunktest_task_campers||[]).push([[858],{4153:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var s=a(2791),c=a(5700);const n="AdvertsList_adertsListWrapper__3X9T4";var r=a(8351),i=a(9732),l=a(4420),o=a(5291),d=a(684),u=a(9236),h=a(6860),m=a(4695),g=a(184);const v=()=>{const e=(0,l.I0)(),t=(0,l.v9)(o.kk),a=(0,l.v9)(o.fx),c=(0,l.v9)(o.Vc),v=(0,l.v9)(o.Bt),p=(0,l.v9)(o.e2);(0,s.useEffect)((()=>{0===p&&e((0,d.M)()),t.length<4*a&&t.length<p&&e((0,d.N)(a))}),[e,a,t.length,p]);return(0,g.jsxs)("div",{className:n,children:[c||0!==v.length?(0,g.jsx)(h.Z,{data:v}):(0,g.jsx)(m.Z,{text:"Sorry, but with your filter settings we don't have campers for you on this page. Try to load more or change filters.",customStyle:"messageText"}),c&&(0,g.jsx)(i.Z,{}),t.length<p&&0!==t.length&&(0,g.jsx)(r.Z,{text:"Load more",className:"loadMoreButton",onClick:()=>{e((0,u.Y)(a+1))}})]})};var p=a(4691),x=a(5294);var _=a(3056);const j="Geolocation_inputWrapper__jbVOJ",f="Geolocation_iconWrapper__0bmMi",y="Geolocation_locationInput__wmSFV",N=()=>{const e=(0,l.I0)(),[t,a]=(0,s.useState)(""),[c,n]=(0,s.useState)(!1),i=(0,l.v9)(o.k$),[d,u]=i.split(",").map((e=>e.trim())).reverse(),h=e=>void 0===e||0===e.trim().length;(0,s.useEffect)((()=>{if(!h(d)||!h(u))return void a("".concat(d,", ").concat(u));"geolocation"in navigator?navigator.geolocation.getCurrentPosition((t=>e(t.coords.latitude,t.coords.longitude))):alert("Geolocation is not available in your browser.");const e=async(e,t)=>{try{const s=await async function(e,t){const{data:a}=await(0,x.Z)("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t));return a}(e,t);if(!s)return;a("".concat(s.address.city,", ").concat(s.address.country))}catch(s){console.log("Something went wrong: ".concat(s.message))}}}),[d,u]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)("div",{className:f,children:(0,g.jsx)(p.Z,{})}),(0,g.jsx)("input",{className:y,type:"text",value:t,onChange:e=>{a(e.target.value)},placeholder:"City, Country"})]}),(0,g.jsx)(r.Z,{text:c?"Search":"Edit",className:"searchLocationButton",onClick:c?()=>{const[a="",s=""]=t.split(",").map((e=>e.trim()));a&&s?e((0,_.l6)("".concat(s,", ").concat(a))):alert('Please enter a valid location in the format "City, Country"'),n(!1)}:()=>{n(!0)}})]})},b="Filter_filterSection__N5x2R",C="Filter_wrapper__9Ksqy",k="Filter_filterText__QGy-k",w="Filter_filterTextWithMargin__DXMUG",F="Filter_filterHeadline__WQ2RP",S="Filter_lastWrapper__B-dS3";const T=a.p+"static/media/AC-big.3fa8d876573e81d0e423faf46aa4efed.svg";var V=a(4400);const Z={badge:"FilterBadge_badge__5RS3G",active:"FilterBadge_active__ZDERL"},A=e=>{let{badgeKey:t,badgeValue:a,camper:s=!1}=e;const c="AC"===t,n=(0,l.I0)(),r=(0,l.v9)(o.Zj),i=e=>{if("transmission"!==e&&"engine"!==e)n("panelTruck"!==e&&"fullyIntegrated"!==e&&"alcove"!==e?(0,_.Hl)(e):(0,_.x7)(e));else{const t=a.toLowerCase();n((0,_.i1)({filterName:e,value:t}))}},d=e=>{var t;return"panelTruck"===e||"fullyIntegrated"===e||"alcove"===e?null===(t=r.vehicleType)||void 0===t?void 0:t.includes(e):Array.isArray(r[e])?r[e].includes(a.toLowerCase()):r[e]};return(0,g.jsxs)(g.Fragment,{children:[c&&(0,g.jsxs)("button",{className:"".concat(Z.badge," ").concat(d(t)?Z.active:""),onClick:()=>i(t),children:[(0,g.jsx)("img",{className:Z.image,src:T,alt:"AC-icon"}),(0,g.jsx)("p",{children:a})]}),!c&&(0,g.jsxs)("button",{className:"".concat(Z.badge," ").concat(d(t)?Z.active:""),onClick:()=>i(t),children:[(0,g.jsx)("svg",{className:Z.icon,width:s?40:32,height:s?28:32,children:(0,g.jsx)("use",{href:"".concat(V.Z,"#").concat(t,"-big")})}),(0,g.jsx)("p",{className:Z.stringValue,children:a})]})]})},L="FilterBadgeList_list__avjGU",G=e=>{let{data:t,camper:a}=e;return(0,g.jsx)("ul",{className:L,children:Object.entries(t).map(((e,t)=>{let[s,c]=e;return(0,g.jsx)(A,{badgeKey:s,badgeValue:c,camper:a},t)}))})},I=()=>(0,g.jsxs)("div",{className:b,children:[(0,g.jsxs)("div",{className:C,children:[(0,g.jsx)("p",{className:k,children:"Location"}),(0,g.jsx)(N,{})]}),(0,g.jsxs)("div",{className:C,children:[(0,g.jsx)("p",{className:"".concat(k," ").concat(w),children:"Filters"}),(0,g.jsx)("h3",{className:F,children:"Vehicle equipment"}),(0,g.jsx)(G,{data:{AC:"AC",transmission:"Automatic",engine:"Petrol",kitchen:"Kitchen",TV:"TV",shower:"Shower/WC"}})]}),(0,g.jsxs)("div",{className:S,children:[(0,g.jsx)("h3",{className:F,children:"Vehicle type"}),(0,g.jsx)(G,{data:{panelTruck:"Van",fullyIntegrated:"Fully Integrated",alcove:"Alcove"},camper:!0})]})]}),B=()=>(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(I,{}),(0,g.jsx)(v,{})]})}}]);
//# sourceMappingURL=catalog-page.c2120f84.chunk.js.map