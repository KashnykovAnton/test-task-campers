"use strict";(self.webpackChunktest_task_campers=self.webpackChunktest_task_campers||[]).push([[493],{700:(e,s,a)=>{a.d(s,{Z:()=>r});const t="Container_container__VVOCq";var i=a(184);const r=e=>{let{children:s}=e;return(0,i.jsx)("div",{className:t,children:s})}},769:(e,s,a)=>{a.r(s),a.d(s,{default:()=>q});var t=a(791),i=a(700),r=a(294);r.Z.defaults.baseURL="https://661e586198427bbbef0446b7.mockapi.io/api/";var c=a(564);var n=a(732);const l="InfoMessage_text__eMGeK";var d=a(184);const o=()=>(0,d.jsx)("p",{className:l,children:"Sorry, we don't have any campers for you at the moment"}),h="ButtonShowMore_button__yncGg",_=()=>(0,d.jsx)("button",{type:"button",className:h,children:"Show more"});const m=a.p+"static/media/icons-sprite.b6f2e4cf1a7123caefab499e5ec4cee6.svg";const x=a.p+"static/media/AC.a62c3eda070a42c785e7a4ae57fd7308.svg",j="FeatureBadge_badge__ogSlP",p="FeatureBadge_icon__Zdf3v",u="FeatureBadge_image__c-mtA",v="FeatureBadge_capitalize__lw7x8",g=e=>{const[s]=Object.keys(e);return(a=>{switch(a){case"adults":return(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("svg",{className:p,width:"20",height:"14",children:(0,d.jsx)("use",{href:"".concat(m,"#adults")})}),(0,d.jsxs)("p",{children:[e[s]," adults"]})]});case"transmission":return(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("svg",{className:p,width:"20",height:"20",children:(0,d.jsx)("use",{href:"".concat(m,"#transmission")})}),(0,d.jsx)("p",{className:v,children:e[s]})]});case"engine":return(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("svg",{className:p,width:"20",height:"20",children:(0,d.jsx)("use",{href:"".concat(m,"#engine")})}),(0,d.jsx)("p",{className:v,children:e[s]})]});case"kitchen":return 1===e[s]&&(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("svg",{className:p,width:"20",height:"20",children:(0,d.jsx)("use",{href:"".concat(m,"#kitchen")})}),(0,d.jsx)("p",{children:"Kitchen"})]});case"beds":return(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("svg",{className:p,width:"20",height:"20",children:(0,d.jsx)("use",{href:"".concat(m,"#beds")})}),(0,d.jsxs)("p",{children:[e[s]," beds"]})]});case"AC":return 1===e[s]&&(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("img",{className:u,src:x,alt:"AC-icon"}),(0,d.jsx)("p",{children:"AC"})]});default:return null}})(s)},N={listItem:"AdvertsListItem_listItem__2n2F-",imageWrapper:"AdvertsListItem_imageWrapper__UVw32",headline:"AdvertsListItem_headline__0Qfms",image:"AdvertsListItem_image__FYN8V",infoWrapper:"AdvertsListItem_infoWrapper__fQOCU",priceWrapper:"AdvertsListItem_priceWrapper__+WWJg",description:"AdvertsListItem_description__BIHWi",features:"AdvertsListItem_features__wVJV9"};var f=a(164);const w="Modal_backdrop__xTnIT",b="Modal_closeBtn__mlOa4",C="Modal_content__gGb69",k="Modal_headlineWrapper__k8X5B",y="Modal_ratingWrapper__x3ZN5",W="Modal_priceWrapper__99q56",A="Modal_list__EF-Lt",I="Modal_image__PGSjp",M="Modal_description__zKB3H",L="Modal_buttonsWrapper__UyHuP",B="Modal_button__PTCbC",S="Headline_name__sUn9P",F=e=>{let{headline:s}=e;return(0,d.jsx)("h3",{className:S,children:s})},P="Rating_info__bC3d9",R="Rating_centerWrapper__zGjq8",Z="Rating_iconWrapper__8tKlh",E="Rating_ratingText__Kvs-t",O=e=>{let{reviews:s,location:a}=e;const t=a.split(", ").reverse().join(", ");return(0,d.jsxs)("div",{className:P,children:[(0,d.jsxs)("div",{className:R,children:[(0,d.jsx)("span",{className:Z,children:(0,d.jsx)("svg",{width:"16",height:"16",children:(0,d.jsx)("use",{href:"".concat(m,"#star")})})}),(0,d.jsxs)("span",{className:E,children:[s.reduce(((e,s)=>e+s.reviewer_rating),0)/s.length,"(",s.length," Reviews)"]})]}),(0,d.jsxs)("div",{className:R,children:[(0,d.jsx)("span",{className:Z,children:(0,d.jsx)("svg",{width:"18",height:"20",children:(0,d.jsx)("use",{href:"".concat(m,"#map-pin")})})}),(0,d.jsx)("span",{children:t})]})]})},V="Price_price__9Dzxz",z=e=>{let{price:s}=e;return(0,d.jsxs)("p",{className:V,children:["\u20ac",s.toFixed(2)]})},G=document.querySelector("#modal-root"),H=e=>{let{onClose:s,data:a}=e;(0,t.useEffect)((()=>{const e=e=>{"Escape"===e.code&&s()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s]);return(0,f.createPortal)((0,d.jsx)("div",{className:w,onClick:e=>{e.target===e.currentTarget&&s()},children:(0,d.jsxs)("div",{className:C,children:[(0,d.jsxs)("div",{className:k,children:[(0,d.jsx)(F,{headline:a.name}),(0,d.jsx)("div",{className:b,onClick:()=>{s()},children:(0,d.jsx)("svg",{width:"32",height:"32",children:(0,d.jsx)("use",{href:"".concat(m,"#close")})})})]}),(0,d.jsx)("div",{className:y,children:(0,d.jsx)(O,{reviews:a.reviews,location:a.location})}),(0,d.jsx)("div",{className:W,children:(0,d.jsx)(z,{price:a.price})}),(0,d.jsx)("ul",{className:A,children:a.gallery.map((e=>(0,d.jsx)("img",{className:I,src:e,alt:"camper"})))}),(0,d.jsx)("p",{className:M,children:a.description}),(0,d.jsxs)("div",{className:L,children:[(0,d.jsx)("button",{className:B,type:"button",children:"Features"}),(0,d.jsx)("button",{className:B,type:"button",children:"Reviews"})]})]})}),G)},K=e=>{let{data:s}=e;const[a,i]=(0,t.useState)(!1),{adults:r,transmission:c,engine:n}=s,{kitchen:l,beds:o,AC:h}=s.details,x=()=>{i((e=>!e))};return(0,d.jsxs)("div",{children:[(0,d.jsxs)("li",{className:N.listItem,children:[(0,d.jsx)("div",{className:N.imageWrapper,children:(0,d.jsx)("img",{className:N.image,src:s.gallery[0],alt:s.name})}),(0,d.jsxs)("div",{className:N.infoWrapper,children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:N.headline,children:[(0,d.jsx)(F,{headline:s.name}),(0,d.jsxs)("div",{className:N.priceWrapper,children:[(0,d.jsx)(z,{price:s.price}),(0,d.jsx)("button",{type:"button",children:(0,d.jsx)("svg",{className:N.icon,width:"24",height:"24",children:(0,d.jsx)("use",{href:"".concat(m,"#heart")})})})]})]}),(0,d.jsx)(O,{reviews:s.reviews,location:s.location})]}),(0,d.jsx)("div",{className:N.description,children:s.description}),(0,d.jsxs)("div",{className:N.features,children:[(0,d.jsx)(g,{adults:r}),(0,d.jsx)(g,{transmission:c}),(0,d.jsx)(g,{engine:n}),(0,d.jsx)(g,{kitchen:l}),(0,d.jsx)(g,{beds:o}),(0,d.jsx)(g,{AC:h})]}),(0,d.jsx)("div",{onClick:()=>{x()},children:(0,d.jsx)(_,{})})]})]}),a&&(0,d.jsx)(H,{onClose:x,data:s})]})},T={},U=e=>{let{adverts:s}=e;return console.log(s),(0,d.jsx)("ul",{className:T.list,children:s.map((e=>(0,d.jsx)(K,{data:e},e.id)))})},q=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{(async()=>{try{l(!0);const e=await async function(){const{data:e}=await(0,r.Z)("adverts");return e}();if(!e)return;s(e)}catch(a){e="Something went wrong: ".concat(a.message),c.Am.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}finally{l(!1)}var e})()}),[]),(0,d.jsxs)(i.Z,{children:[0!==e.length?(0,d.jsx)(U,{adverts:e}):(0,d.jsx)(o,{}),a&&(0,d.jsx)(n.Z,{})]})}}}]);
//# sourceMappingURL=movies-page.930653fc.chunk.js.map