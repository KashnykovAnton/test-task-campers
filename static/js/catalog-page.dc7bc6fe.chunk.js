"use strict";(self.webpackChunktest_task_campers=self.webpackChunktest_task_campers||[]).push([[858],{4153:(e,t,a)=>{a.r(t),a.d(t,{default:()=>G});var s=a(2791),c=a(5700);const n="AdvertsList_adertsListWrapper__3X9T4";var r=a(8351),i=a(9732),l=a(4420),o=a(5291),d=a(684),u=a(9236),h=a(6860),m=a(4695),g=a(184);const v=()=>{const e=(0,l.I0)(),t=(0,l.v9)(o.kk),a=(0,l.v9)(o.fx),c=(0,l.v9)(o.Vc),v=(0,l.v9)(o.Bt),x=(0,l.v9)(o.e2);(0,s.useEffect)((()=>{0===x&&e((0,d.M)()),t.length<4*a&&t.length<x&&e((0,d.N)(a))}),[e,a,t.length,x]);return(0,g.jsxs)("div",{className:n,children:[c||0!==v.length?(0,g.jsx)(h.Z,{data:v}):(0,g.jsx)(m.Z,{text:"Sorry, but with your filter settings we don't have campers for you on this page. Try to load more or change filters.",customStyle:"messageText"}),c&&(0,g.jsx)(i.Z,{}),t.length<x&&0!==t.length&&(0,g.jsx)(r.Z,{text:"Load more",className:"loadMoreButton",onClick:()=>{e((0,u.Y)(a+1))}})]})};var x=a(4691),p=a(5294);var j=a(3056);const _="Geolocation_inputWrapper__jbVOJ",f="Geolocation_iconWrapper__0bmMi",y=()=>{const[e,t]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[d,u]=(0,s.useState)(!1),h=(0,l.I0)(),m=(0,l.v9)(o.k$),[v,y]=m.split(",").map((e=>e.trim())).reverse();(0,s.useEffect)((()=>{i("".concat(e,", ").concat(a))}),[e,a,h]),(0,s.useEffect)((()=>{if(""!==v&&void 0!==v||""!==y&&void 0!==y)return t(v),void c(y);"geolocation"in navigator?navigator.geolocation.getCurrentPosition((t=>e(t.coords.latitude,t.coords.longitude))):alert("Geolocation is not available in your browser.");const e=async(e,a)=>{try{const s=await async function(e,t){const{data:a}=await(0,p.Z)("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t));return a}(e,a);if(!s)return;t(s.address.city),c(s.address.country)}catch(s){console.log("Something went wrong: ".concat(s.message))}}}),[e,v,a,y]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("div",{className:f,children:(0,g.jsx)(x.Z,{})}),(0,g.jsx)("input",{type:"text",value:d?n:"".concat(e,", ").concat(a),onChange:e=>{i(e.target.value)},placeholder:"City, Country"})]}),d?(0,g.jsx)(r.Z,{text:"Search",className:"searchLocationButton",onClick:()=>{if(!n.trim())return alert("Please enter a valid location");let[e,a]=n.split(", ");e=void 0===e?"":e,a=void 0===a?"":a,t(e),c(a),u(!1),h((0,j.l6)("".concat(a,", ").concat(e)))}}):(0,g.jsx)(r.Z,{text:"Edit",className:"searchLocationButton",onClick:()=>{u(!0)}})]})},N="Filter_filterSection__N5x2R",b="Filter_wrapper__9Ksqy",k="Filter_filterText__QGy-k",C="Filter_filterTextWithMargin__DXMUG",w="Filter_filterHeadline__WQ2RP",F="Filter_lastWrapper__B-dS3";const S=a.p+"static/media/AC-big.3fa8d876573e81d0e423faf46aa4efed.svg";var Z=a(4400);const T={badge:"FilterBadge_badge__5RS3G",active:"FilterBadge_active__ZDERL"},A=e=>{let{badgeKey:t,badgeValue:a,camper:s=!1}=e;const c="AC"===t,n=(0,l.I0)(),r=(0,l.v9)(o.Zj),i=e=>{if("transmission"!==e&&"engine"!==e)n("panelTruck"!==e&&"fullyIntegrated"!==e&&"alcove"!==e?(0,j.Hl)(e):(0,j.x7)(e));else{const t=a.toLowerCase();n((0,j.i1)({filterName:e,value:t}))}},d=e=>{var t;return"panelTruck"===e||"fullyIntegrated"===e||"alcove"===e?null===(t=r.vehicleType)||void 0===t?void 0:t.includes(e):Array.isArray(r[e])?r[e].includes(a.toLowerCase()):r[e]};return(0,g.jsxs)(g.Fragment,{children:[c&&(0,g.jsxs)("button",{className:"".concat(T.badge," ").concat(d(t)?T.active:""),onClick:()=>i(t),children:[(0,g.jsx)("img",{className:T.image,src:S,alt:"AC-icon"}),(0,g.jsx)("p",{children:a})]}),!c&&(0,g.jsxs)("button",{className:"".concat(T.badge," ").concat(d(t)?T.active:""),onClick:()=>i(t),children:[(0,g.jsx)("svg",{className:T.icon,width:s?40:32,height:s?28:32,children:(0,g.jsx)("use",{href:"".concat(Z.Z,"#").concat(t,"-big")})}),(0,g.jsx)("p",{className:T.stringValue,children:a})]})]})},L="FilterBadgeList_list__avjGU",V=e=>{let{data:t,camper:a}=e;return(0,g.jsx)("ul",{className:L,children:Object.entries(t).map(((e,t)=>{let[s,c]=e;return(0,g.jsx)(A,{badgeKey:s,badgeValue:c,camper:a},t)}))})},B=()=>(0,g.jsxs)("div",{className:N,children:[(0,g.jsxs)("div",{className:b,children:[(0,g.jsx)("p",{className:k,children:"Location"}),(0,g.jsx)(y,{})]}),(0,g.jsxs)("div",{className:b,children:[(0,g.jsx)("p",{className:"".concat(k," ").concat(C),children:"Filters"}),(0,g.jsx)("h3",{className:w,children:"Vehicle equipment"}),(0,g.jsx)(V,{data:{AC:"AC",transmission:"Automatic",engine:"Petrol",kitchen:"Kitchen",TV:"TV",shower:"Shower/WC"}})]}),(0,g.jsxs)("div",{className:F,children:[(0,g.jsx)("h3",{className:w,children:"Vehicle type"}),(0,g.jsx)(V,{data:{panelTruck:"Van",fullyIntegrated:"Fully Integrated",alcove:"Alcove"},camper:!0})]})]}),G=()=>(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(B,{}),(0,g.jsx)(v,{})]})}}]);
//# sourceMappingURL=catalog-page.dc7bc6fe.chunk.js.map