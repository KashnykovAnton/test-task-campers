"use strict";(self.webpackChunktest_task_campers=self.webpackChunktest_task_campers||[]).push([[493],{5700:(e,s,a)=>{a.d(s,{Z:()=>r});const t="Container_container__VVOCq";var n=a(184);const r=e=>{let{children:s}=e;return(0,n.jsx)("div",{className:t,children:s})}},4243:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ve});var t=a(2791),n=a(5700),r=a(5294);r.Z.defaults.baseURL="https://661e586198427bbbef0446b7.mockapi.io/api/";var c=a(2564);var i=a(9732);const l="InfoMessage_text__eMGeK";var o=a(184);const d=()=>(0,o.jsx)("p",{className:l,children:"Sorry, we don't have any campers for you at the moment"});const h=a.p+"static/media/icons-sprite.6778d2400dbd34349b885bb96c2ca0f9.svg";const m=a.p+"static/media/AC.a62c3eda070a42c785e7a4ae57fd7308.svg",_="FeatureBadge_badge__ogSlP",x="FeatureBadge_icon__Zdf3v",u="FeatureBadge_image__c-mtA",j="FeatureBadge_capitalize__lw7x8",p=e=>{const[s]=Object.keys(e);return(a=>{switch(a){case"adults":return(0,o.jsxs)("div",{className:_,children:[(0,o.jsx)("svg",{className:x,width:"20",height:"14",children:(0,o.jsx)("use",{href:"".concat(h,"#adults")})}),(0,o.jsxs)("p",{children:[e[s]," adults"]})]});case"transmission":return(0,o.jsxs)("div",{className:_,children:[(0,o.jsx)("svg",{className:x,width:"20",height:"20",children:(0,o.jsx)("use",{href:"".concat(h,"#transmission")})}),(0,o.jsx)("p",{className:j,children:e[s]})]});case"engine":return(0,o.jsxs)("div",{className:_,children:[(0,o.jsx)("svg",{className:x,width:"20",height:"20",children:(0,o.jsx)("use",{href:"".concat(h,"#engine")})}),(0,o.jsx)("p",{className:j,children:e[s]})]});case"kitchen":return 1===e[s]&&(0,o.jsxs)("div",{className:_,children:[(0,o.jsx)("svg",{className:x,width:"20",height:"20",children:(0,o.jsx)("use",{href:"".concat(h,"#kitchen")})}),(0,o.jsx)("p",{children:"Kitchen"})]});case"beds":return(0,o.jsxs)("div",{className:_,children:[(0,o.jsx)("svg",{className:x,width:"20",height:"20",children:(0,o.jsx)("use",{href:"".concat(h,"#beds")})}),(0,o.jsxs)("p",{children:[e[s]," beds"]})]});case"AC":return 1===e[s]&&(0,o.jsxs)("div",{className:_,children:[(0,o.jsx)("img",{className:u,src:m,alt:"AC-icon"}),(0,o.jsx)("p",{children:"AC"})]});default:return null}})(s)},v="AdvertsListItem_listItem__2n2F-",g="AdvertsListItem_modalOpen__ymQzm",N="AdvertsListItem_imageWrapper__UVw32",f="AdvertsListItem_headline__0Qfms",w="AdvertsListItem_image__FYN8V",b="AdvertsListItem_infoWrapper__fQOCU",y="AdvertsListItem_priceWrapper__+WWJg",C="AdvertsListItem_description__BIHWi",k="AdvertsListItem_features__wVJV9";var S=a(4164);const M="Modal_backdrop__xTnIT",A="Modal_closeBtn__mlOa4",I="Modal_modal__DJDMv",L="Modal_headerContentWrapper__OULh-",B="Modal_ratingWrapper__x3ZN5",W="Modal_mainContentWrapper__J2XrQ",F="Modal_list__EF-Lt",R="Modal_image__PGSjp",D="Modal_description__zKB3H",E="Headline_name__sUn9P",T=e=>{let{headline:s}=e;return(0,o.jsx)("h2",{className:E,children:s})},q="Rating_info__bC3d9",O="Rating_centerWrapper__zGjq8",P="Rating_iconWrapper__8tKlh",V="Rating_ratingText__Kvs-t",Z=e=>{let{reviews:s,location:a}=e;const t=a.split(", ").reverse().join(", ");return(0,o.jsxs)("div",{className:q,children:[(0,o.jsxs)("div",{className:O,children:[(0,o.jsx)("span",{className:P,children:(0,o.jsx)("svg",{width:"16",height:"16",children:(0,o.jsx)("use",{href:"".concat(h,"#star")})})}),(0,o.jsxs)("span",{className:V,children:[s.reduce(((e,s)=>e+s.reviewer_rating),0)/s.length,"(",s.length," Reviews)"]})]}),(0,o.jsxs)("div",{className:O,children:[(0,o.jsx)("span",{className:P,children:(0,o.jsx)("svg",{width:"18",height:"20",children:(0,o.jsx)("use",{href:"".concat(h,"#map-pin")})})}),(0,o.jsx)("span",{children:t})]})]})},z="Price_price__9Dzxz",K=e=>{let{price:s}=e;return(0,o.jsxs)("p",{className:z,children:["\u20ac",s.toFixed(2)]})},H="ModalInfoSection_buttonsWrapper__cTWNE",U="ModalInfoSection_button__HfVmV",J="ModalInfoSection_active__jTKoZ",Q="ModalInfoSection_content__rQlAr",G=()=>(0,o.jsx)("div",{children:"FeaturesComponent"}),Y="ReviewsComponent_reviewsWrapper__2+DqU",X="ReviewsComponent_nameWrapper__ohr4N",$="ReviewsComponent_avatar__48Kn5",ee="ReviewsComponent_name__r6Ytz",se=e=>{let{rating:s}=e;const a=[...Array.from({length:s},(()=>!0)),...Array.from({length:5-s},(()=>!1))];return console.log(a),(0,o.jsx)("div",{className:"rating",children:a.map(((e,s)=>(0,o.jsx)("span",{children:(0,o.jsx)("svg",{width:"16",height:"16",color:e?"gold":"gray",children:(0,o.jsx)("use",{href:"".concat(h,"#star")})})},s)))})},ae=e=>{let{reviews:s}=e;const a=()=>{let e=0;for(;e<5;)"".concat(c.PJ,"#star"),e++};return(0,o.jsx)("div",{className:Y,children:s.map((e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:X,children:[(0,o.jsx)("div",{className:$,children:e.reviewer_name[0]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:ee,children:e.reviewer_name}),(0,o.jsx)(se,{rating:e.reviewer_rating}),(0,o.jsx)("div",{children:a()})]})]}),(0,o.jsx)("p",{children:e.comment})]},Math.floor(100*Math.random()))))})},te="FormComponent_form__uqI5C",ne="FormComponent_title__LHSp-",re="FormComponent_text__a8gSb",ce={button:"ButtonMain_button__rEion",formButton:"ButtonMain_formButton__hIyg5"},ie=e=>{let{text:s,actionType:a="button",className:t}=e;return(0,o.jsx)("button",{type:a,className:"".concat(ce.button," ").concat(ce[t]),children:s})};var le=a(9513),oe=a.n(le);a(8639);const de=e=>{let{setDate:s,date:a}=e;return(0,o.jsx)(oe(),{selected:a,onChange:e=>s(e),dateFormat:"MM/dd/yyyy",placeholderText:"Booking date",enableTabLoop:!1,closeOnScroll:!0,calendarStartDay:1,useWeekdaysShort:!0,customInput:(0,o.jsxs)("div",{className:"date-input-wrapper",children:[(0,o.jsx)("input",{type:"text",value:a?a.toLocaleDateString():"",onChange:e=>s(e),required:!0,placeholder:"Booking date"}),(0,o.jsx)("button",{type:"button",children:(0,o.jsx)("svg",{className:"date-input-icon",width:"20",height:"20",children:(0,o.jsx)("use",{href:"".concat(h,"#calendar")})})})]})})},he=()=>{const[e,s]=(0,t.useState)(""),[a,n]=(0,t.useState)(""),[r,c]=(0,t.useState)(""),[i,l]=(0,t.useState)(""),d=e=>{const{name:a,value:t}=e.target;switch(a){case"name":return s(t);case"email":return n(t);case"bookingDate":return c(t);case"comment":return l(t);default:return}};return(0,o.jsxs)("div",{className:te,children:[(0,o.jsx)("h3",{className:ne,children:"Book your campervan now"}),(0,o.jsx)("p",{className:re,children:"Stay connected! We are always ready to help you."}),(0,o.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e&&a&&r?(alert("Form submitted successfully!"),console.log("Name:",e),console.log("Email:",a),console.log("Booking date:",r),console.log("Comment:",i),s(""),n(""),c(""),l("")):alert("Please fill in all required fields.")},children:[(0,o.jsx)("input",{type:"text",name:"name",value:e,onChange:d,required:!0,placeholder:"Name"}),(0,o.jsx)("input",{type:"email",name:"email",value:a,onChange:d,required:!0,placeholder:"Email"}),(0,o.jsx)(de,{setDate:c,date:r}),(0,o.jsx)("textarea",{name:"comment",value:i,onChange:d,placeholder:"Comment"}),(0,o.jsx)(ie,{text:"Send",actionType:"submit",className:"formButton"})]})]})},me=e=>{let{data:s}=e;const[a,n]=(0,t.useState)("features"),r=e=>{n(e)};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:H,children:[(0,o.jsx)("button",{className:"".concat(U," ").concat("features"===a?J:""),onClick:()=>r("features"),children:"Features"}),(0,o.jsx)("button",{className:"".concat(U," ").concat("reviews"===a?J:""),onClick:()=>r("reviews"),children:"Reviews"})]}),(0,o.jsxs)("div",{className:Q,children:["features"===a?(0,o.jsx)(G,{}):(0,o.jsx)(ae,{reviews:s.reviews}),(0,o.jsx)(he,{})]})]})},_e=document.querySelector("#modal-root"),xe=e=>{let{onClose:s,data:a}=e;(0,t.useEffect)((()=>{const e=e=>{"Escape"===e.code&&s()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s]);return(0,S.createPortal)((0,o.jsx)("div",{className:M,onClick:e=>{e.target===e.currentTarget&&s()},children:(0,o.jsxs)("div",{className:I,children:[(0,o.jsxs)("div",{className:L,children:[(0,o.jsx)(T,{headline:a.name}),(0,o.jsx)("div",{className:A,onClick:()=>{s()},children:(0,o.jsx)("svg",{width:"32",height:"32",children:(0,o.jsx)("use",{href:"".concat(h,"#close")})})}),(0,o.jsx)("div",{className:B,children:(0,o.jsx)(Z,{reviews:a.reviews,location:a.location})}),(0,o.jsx)(K,{price:a.price})]}),(0,o.jsxs)("div",{className:W,children:[(0,o.jsx)("ul",{className:F,children:a.gallery.map(((e,s)=>(0,o.jsx)("img",{className:R,src:e,alt:"camper"},s)))}),(0,o.jsx)("p",{className:D,children:a.description}),(0,o.jsx)(me,{data:a})]})]})}),_e)},ue=e=>{let{data:s}=e;const[a,n]=(0,t.useState)(!1),{adults:r,transmission:c,engine:i}=s,{kitchen:l,beds:d,AC:m}=s.details,_=()=>{n((e=>!e)),a?document.body.classList.remove(g):document.body.classList.add(g)};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("li",{className:v,children:[(0,o.jsx)("div",{className:N,children:(0,o.jsx)("img",{className:w,src:s.gallery[0],alt:s.name})}),(0,o.jsxs)("div",{className:b,children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:f,children:[(0,o.jsx)(T,{headline:s.name}),(0,o.jsxs)("div",{className:y,children:[(0,o.jsx)(K,{price:s.price}),(0,o.jsx)("button",{type:"button",children:(0,o.jsx)("svg",{width:"24",height:"24",children:(0,o.jsx)("use",{href:"".concat(h,"#heart")})})})]})]}),(0,o.jsx)(Z,{reviews:s.reviews,location:s.location})]}),(0,o.jsx)("div",{className:C,children:s.description}),(0,o.jsxs)("div",{className:k,children:[(0,o.jsx)(p,{adults:r}),(0,o.jsx)(p,{transmission:c}),(0,o.jsx)(p,{engine:i}),(0,o.jsx)(p,{kitchen:l}),(0,o.jsx)(p,{beds:d}),(0,o.jsx)(p,{AC:m})]}),(0,o.jsx)("div",{onClick:()=>{_()},children:(0,o.jsx)(ie,{text:"Show more"})})]})]}),a&&(0,o.jsx)(xe,{onClose:_,data:s})]})},je={},pe=e=>{let{adverts:s}=e;return console.log(s),(0,o.jsx)("ul",{className:je.list,children:s.map((e=>(0,o.jsx)(ue,{data:e},e._id)))})},ve=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{(async()=>{try{l(!0);const e=await async function(){const{data:e}=await(0,r.Z)("adverts");return e}();if(!e)return;s(e)}catch(a){e="Something went wrong: ".concat(a.message),c.Am.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}finally{l(!1)}var e})()}),[]),(0,o.jsxs)(n.Z,{children:[0!==e.length?(0,o.jsx)(pe,{adverts:e}):(0,o.jsx)(d,{}),a&&(0,o.jsx)(i.Z,{})]})}}}]);
//# sourceMappingURL=movies-page.ebb8d645.chunk.js.map