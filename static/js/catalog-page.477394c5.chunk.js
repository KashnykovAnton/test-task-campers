"use strict";(self.webpackChunktest_task_campers=self.webpackChunktest_task_campers||[]).push([[858],{5700:(e,s,a)=>{a.d(s,{Z:()=>r});const t="Container_container__VVOCq";var n=a(184);const r=e=>{let{children:s}=e;return(0,n.jsx)("div",{className:t,children:s})}},3730:(e,s,a)=>{a.r(s),a.d(s,{default:()=>Ke});var t=a(2791),n=a(5700);const r="Headline_name__sUn9P";var i=a(184);const c=e=>{let{headline:s}=e;return(0,i.jsx)("h2",{className:r,children:s})};var l=a(4400);const o="IconStar_iconWrapper__6sBp6",d="IconStar_notFilledIcon__W0guI",m=e=>{let{filled:s=!0}=e;return(0,i.jsx)("span",{className:o,children:(0,i.jsx)("svg",{className:s?"":d,width:"16",height:"16",children:(0,i.jsx)("use",{href:"".concat(l.Z,"#star")})})})},_="IconPin_iconWrapper__+889o",h=e=>{let{size:s}=e;return(0,i.jsx)("span",{className:_,children:(0,i.jsx)("svg",{width:"small"===s?16:18,height:"small"===s?16:20,children:(0,i.jsx)("use",{href:"".concat(l.Z,"#").concat("small"===s?"map-pin-small":"map-pin")})})})},x="Location_locationWrapper__tCyS2",j=e=>{let{location:s,size:a}=e;const t=s.split(", ").reverse().join(", ");return(0,i.jsxs)("div",{className:x,children:[(0,i.jsx)(h,{size:a}),(0,i.jsx)("span",{children:t})]})},u="ModalRatingAndLocation_info__BscwN",p="ModalRatingAndLocation_ratingText__EVSl-",v=e=>{let{reviews:s,location:a}=e;return(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)(m,{}),(0,i.jsxs)("span",{className:p,children:[(()=>{const e=s.reduce(((e,s)=>e+s.reviewer_rating),0);return Math.floor(e/s.length*10)/10})(),"(",s.length," Reviews)"]}),(0,i.jsx)(j,{location:a,size:"small"})]})},g="Price_price__9Dzxz",N=e=>{let{price:s}=e;return(0,i.jsxs)("p",{className:g,children:["\u20ac",s.toFixed(2)]})},f="ModalInfoSection_buttonsWrapper__cTWNE",w="ModalInfoSection_button__HfVmV",b="ModalInfoSection_active__jTKoZ",C="ModalInfoSection_content__rQlAr",y="FeaturesComponent_featuresSection__o7nEz",A="FeaturesComponent_detailsHeadline__LhMru",F="FeaturesComponent_detailsList__BEZY1",S="FeaturesComponent_detailsStroke__Av6m2",k="FeaturesComponent_detailsName__QYZpv",Z="FeatureBadgeList_list__xF9ec",W="FeatureBadgeList_featuresList__fgQkr";const L=a.p+"static/media/AC.a62c3eda070a42c785e7a4ae57fd7308.svg",I="FeatureBadge_stringValue__horFM",M="FeatureBadge_badge__ogSlP",V="FeatureBadge_icon__Zdf3v",B="FeatureBadge_image__c-mtA",R=e=>{let{badgeKey:s,badgeValue:a}=e;const t="string"===typeof a,n="AC"===s&&a>0,r="number"===typeof a&&a>0&&"AC"!==s;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsxs)("div",{className:M,children:[(0,i.jsx)("svg",{className:V,width:"20",height:"20",children:(0,i.jsx)("use",{href:"".concat(l.Z,"#").concat(s)})}),(0,i.jsx)("p",{className:I,children:a})]}),n&&(0,i.jsxs)("div",{className:M,children:[(0,i.jsx)("img",{className:B,src:L,alt:"AC-icon"}),(0,i.jsxs)("p",{children:[a," ",s]})]}),r&&(0,i.jsxs)("div",{className:M,children:[(0,i.jsx)("svg",{className:V,width:"20",height:"20",children:(0,i.jsx)("use",{href:"".concat(l.Z,"#").concat(s)})}),(0,i.jsxs)("p",{children:[a," ",(c=s,"airConditioner"===c?"air conditioner":c)]})]})]});var c},z=e=>{let{data:s,features:a=!1}=e;return(0,i.jsx)("ul",{className:"".concat(Z," ").concat(a?W:""),children:Object.entries(s).map(((e,s)=>{let[a,t]=e;return(0,i.jsx)(R,{badgeKey:a,badgeValue:t},s)}))})},K=e=>{let{data:s}=e;const{form:a,length:t,width:n,height:r,tank:c,consumption:l}=s,o={form:a,length:t,width:n,height:r,tank:c,consumption:l},d=Object.entries(o),m=(e,s)=>s!==d.length-1?e.replace(/(\d)([a-zA-Z])/g,"$1 $2"):e,_={adults:s.adults,transmission:s.transmission,AC:s.details.AC,engine:s.engine,kitchen:s.details.kitchen,beds:s.details.beds,airConditioner:s.details.airConditioner,CD:s.details.CD,radio:s.details.radio,hob:s.details.hob};return(0,i.jsxs)("div",{className:y,children:[(0,i.jsx)("div",{children:(0,i.jsx)(z,{data:_,features:"true"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:A,children:"Vehicle details"}),(0,i.jsx)("ul",{className:F,children:d.map(((e,s)=>{let[a,t]=e;return(0,i.jsxs)("li",{className:S,children:[(0,i.jsx)("p",{className:k,children:a}),(0,i.jsx)("p",{className:0===s?k:"",children:m(t,s)})]},s)}))})]})]})},T="ReviewsComponent_reviewsSection__Ftum9",G="ReviewsComponent_reviewWrapper__LY1Ca",O="ReviewsComponent_headerWrapper__f+Wv9",H="ReviewsComponent_avatar__48Kn5",D="ReviewsComponent_name__r6Ytz",E="IconStarList_wrapper__A1zTK",P=e=>{let{rating:s}=e;const a=[...Array.from({length:s},(()=>!0)),...Array.from({length:5-s},(()=>!1))];return(0,i.jsx)("ul",{className:E,children:a.map(((e,s)=>(0,i.jsx)(m,{filled:e},s)))})};var Q=a(4695);const U=e=>{let{reviews:s}=e;return(0,i.jsx)("div",{className:T,children:s.map((e=>(0,i.jsxs)("div",{className:G,children:[(0,i.jsxs)("div",{className:O,children:[(0,i.jsx)("div",{className:H,children:e.reviewer_name[0]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:D,children:e.reviewer_name}),(0,i.jsx)(P,{rating:e.reviewer_rating})]})]}),(0,i.jsx)(Q.Z,{text:e.comment})]},Math.floor(100*Math.random()))))})};var Y=a(2702);const q=e=>{let{data:s}=e;const[a,n]=(0,t.useState)("features"),r=e=>{n(e)};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:f,children:[(0,i.jsx)("button",{className:"".concat(w," ").concat("features"===a?b:""),onClick:()=>r("features"),children:"Features"}),(0,i.jsx)("button",{className:"".concat(w," ").concat("reviews"===a?b:""),onClick:()=>r("reviews"),children:"Reviews"})]}),(0,i.jsxs)("div",{className:C,children:["features"===a?(0,i.jsx)(K,{data:s}):(0,i.jsx)(U,{reviews:s.reviews}),(0,i.jsx)(Y.Z,{})]})]})},X="GalleryList_list__+UJLn",$="GalleryItem_image__Im4oQ",J=e=>{let{link:s,name:a}=e;return(0,i.jsx)("img",{className:$,src:s,alt:a})},ee=e=>{let{gallery:s,name:a}=e;return(0,i.jsx)("ul",{className:X,children:s.map((e=>(0,i.jsx)(J,{link:e,name:a},Math.floor(100*Math.random()))))})};var se=a(4920);const ae="AdvertModal_headerContentWrapper__1r1Ea",te="AdvertModal_ratingWrapper__xIRvQ",ne="AdvertModal_mainContentWrapper__2KHLZ",re=e=>{let{onClose:s,data:a}=e;return(0,i.jsxs)(se.Z,{onClose:s,children:[(0,i.jsxs)("div",{className:ae,children:[(0,i.jsx)(c,{headline:a.name}),(0,i.jsx)("div",{className:te,children:(0,i.jsx)(v,{reviews:a.reviews,location:a.location})}),(0,i.jsx)(N,{price:a.price})]}),(0,i.jsxs)("div",{className:ne,children:[(0,i.jsx)(ee,{gallery:a.gallery,name:a.name}),(0,i.jsx)(Q.Z,{text:a.description,customStyle:"fullDescription"}),(0,i.jsx)(q,{data:a})]})]})};var ie=a(8351);const ce="AdvertsHeader_header__cIq28",le="AdvertsHeader_priceWrapper__ZZiW0",oe="FavoriteButton_button__O8uhU",de=()=>(0,i.jsx)("button",{type:"button",className:oe,children:(0,i.jsx)("svg",{width:"24",height:"24",children:(0,i.jsx)("use",{href:"".concat(l.Z,"#heart")})})}),me=e=>{let{name:s,price:a,reviews:t,location:n}=e;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:ce,children:[(0,i.jsx)(c,{headline:s}),(0,i.jsxs)("div",{className:le,children:[(0,i.jsx)(N,{price:a}),(0,i.jsx)(de,{})]})]}),(0,i.jsx)(v,{reviews:t,location:n})]})},_e="AdvertsItem_listWrapper__mn-yU",he="AdvertsItem_listItem__ZfyWW",xe="AdvertsItem_modalOpen__yW-LY",je="AdvertsItem_infoWrapper__XfTzb",ue=e=>{let{data:s}=e;const[a,n]=(0,t.useState)(!1),r=()=>{n((e=>!e)),a?document.body.classList.remove(xe):document.body.classList.add(xe)},c={adults:s.adults,transmission:s.transmission,engine:s.engine,kitchen:s.details.kitchen,beds:s.details.beds,AC:s.details.AC};return(0,i.jsxs)("div",{className:_e,children:[(0,i.jsxs)("li",{className:he,children:[(0,i.jsx)(J,{link:s.gallery[0],name:s.name}),(0,i.jsxs)("div",{className:je,children:[(0,i.jsx)(me,{name:s.name,price:s.price,reviews:s.reviews,location:s.location}),(0,i.jsx)(Q.Z,{text:s.description,customStyle:"shortDescription"}),(0,i.jsx)(z,{data:c}),(0,i.jsx)("div",{onClick:()=>{r()},children:(0,i.jsx)(ie.Z,{text:"Show more"})})]})]}),a&&(0,i.jsx)(re,{onClose:r,data:s})]})},pe="AdvertsList_adertsListWrapper__3X9T4",ve="AdvertsList_list__vknfo",ge="AdvertsList_buttonWrapper__tmFvs";var Ne=a(4809);var fe=a(2564);var we=a(9732);const be=()=>{const[e,s]=(0,t.useState)([]),[a,n]=(0,t.useState)(1),[r,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{c(!0);const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const s=4,{data:a}=await(0,Ne.Z)("https://661e586198427bbbef0446b7.mockapi.io/api/adverts?page=".concat(e,"&limit=").concat(s));return a}(a);if(!e)return;s((s=>0!==s.length?[...s,...e]:e))}catch(t){e="Something went wrong: ".concat(t.message),fe.Am.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})}finally{c(!1)}var e})()}),[a]);return(0,i.jsxs)("div",{className:pe,children:[(0,i.jsx)("ul",{className:ve,children:e.map(((e,s)=>(0,i.jsx)(ue,{data:e},s)))}),e.length<13&&(0,i.jsx)("div",{className:ge,onClick:()=>{console.log("click"),n((e=>e+1)),console.log(a)},children:(0,i.jsx)(ie.Z,{text:"Load more",className:"loadMoreButton"})}),r&&(0,i.jsx)(we.Z,{})]})};const Ce="Geolocation_locationWrapper__ryLOD",ye=()=>{const[e,s]=(0,t.useState)(""),[a,n]=(0,t.useState)("");(0,t.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>r(e.coords.latitude,e.coords.longitude))):alert("Geolocation is not available in your browser.")}),[]);const r=async(e,a)=>{try{const t=await async function(e,s){const{data:a}=await(0,Ne.Z)("http://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(s));return a}(e,a);if(!t)return;s(t.address.city),n(t.address.country)}catch(t){console.log("Something went wrong: ".concat(t.message))}};return(0,i.jsxs)("div",{className:Ce,children:[(0,i.jsx)(h,{}),e&&a?(0,i.jsxs)("span",{children:[e,", ",a]}):(0,i.jsx)("span",{children:"Geolocation is blocked"})]})},Ae="Filter_filterSection__N5x2R",Fe="Filter_wrapper__9Ksqy",Se="Filter_filterText__QGy-k",ke="Filter_location__3ujAf",Ze="Filter_filterTextWithMargin__DXMUG",We="Filter_filterHeadline__WQ2RP",Le="Filter_lastWrapper__B-dS3";const Ie=a.p+"static/media/AC-big.3fa8d876573e81d0e423faf46aa4efed.svg",Me={badge:"FilterBadge_badge__5RS3G"},Ve=e=>{let{badgeKey:s,badgeValue:a,camper:t=!1}=e;const n="AC"===s;return(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsxs)("button",{className:Me.badge,children:[(0,i.jsx)("img",{className:Me.image,src:Ie,alt:"AC-icon"}),(0,i.jsx)("p",{children:a})]}),!n&&(0,i.jsxs)("button",{className:Me.badge,children:[(0,i.jsx)("svg",{className:Me.icon,width:t?40:32,height:t?28:32,children:(0,i.jsx)("use",{href:"".concat(l.Z,"#").concat(s,"-big")})}),(0,i.jsx)("p",{className:Me.stringValue,children:a})]})]})},Be="FilterBadgeList_list__avjGU",Re=e=>{let{data:s,camper:a}=e;return(0,i.jsx)("ul",{className:Be,children:Object.entries(s).map(((e,s)=>{let[t,n]=e;return(0,i.jsx)(Ve,{badgeKey:t,badgeValue:n,camper:a},s)}))})},ze=()=>(0,i.jsxs)("div",{className:Ae,children:[(0,i.jsxs)("div",{className:Fe,children:[(0,i.jsx)("p",{className:Se,children:"Location"}),(0,i.jsx)("div",{className:ke,children:(0,i.jsx)(ye,{})})]}),(0,i.jsxs)("div",{className:Fe,children:[(0,i.jsx)("p",{className:"".concat(Se," ").concat(Ze),children:"Filters"}),(0,i.jsx)("h3",{className:We,children:"Vehicle equipment"}),(0,i.jsx)(Re,{data:{AC:"AC",transmission:"Automatic",kitchen:"Kitchen",TV:"TV",shower:"Shower/WC"}})]}),(0,i.jsxs)("div",{className:Le,children:[(0,i.jsx)("h3",{className:We,children:"Vehicle type"}),(0,i.jsx)(Re,{data:{van:"Van",fully:"Fully Integrated",alcove:"Alcove"},camper:!0})]}),(0,i.jsx)(ie.Z,{text:"Search",className:"searchButton"})]}),Ke=()=>(0,i.jsxs)(n.Z,{children:[(0,i.jsx)(ze,{}),(0,i.jsx)(be,{})]})}}]);
//# sourceMappingURL=catalog-page.477394c5.chunk.js.map